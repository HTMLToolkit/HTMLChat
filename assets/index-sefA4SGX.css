*{margin:0;padding:0;box-sizing:border-box}body{font-family:Trebuchet MS,Arial,sans-serif;background:#f0f0f0;color:#333;font-size:16px}.container{width:90%;max-width:1600px;margin:20px auto;background:#fff;border:2px solid #ccc;box-shadow:2px 2px 5px #000000c5}.header{background:linear-gradient(90deg,#2196f3,#21cbf3);color:#fff;padding:12px 16px;font-weight:700;font-size:18px;border-bottom:1px solid #0066cc;display:flex;justify-content:space-between;align-items:center}.header h1{font-size:18px;font-weight:700}.header-controls{display:flex;gap:8px;align-items:center}.header-btn{background:none;border:none;color:#fff;cursor:pointer;font-size:16px;padding:4px 8px;border-radius:2px;display:flex;align-items:center;justify-content:center}.header-btn:hover{background:#fff3}.header-btn svg{width:16px;height:16px}.minimize-btn{background:none;border:none;color:#fff;cursor:pointer;font-size:20px;padding:4px 8px;border-radius:2px}.minimize-btn:hover{background:#fff3}.toolbar{background:#e8e8e8;border-bottom:1px solid #ccc;padding:8px 12px;display:flex;gap:15px;align-items:center;font-size:14px}.room-select{padding:4px 6px;border:1px inset #ccc;background:#fff;font-size:14px;font-family:inherit}.toolbar-btn{background:#f0f0f0;border:1px outset #ccc;padding:4px 8px;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center}.toolbar-btn:hover{background:#e0e0e0}.toolbar-btn:active{border:1px inset #ccc}.toolbar-btn svg{width:14px;height:14px}.user-count{color:#666;margin-left:auto}.notification-banner{background:#fff3cd;border-bottom:1px solid #ffc107;padding:8px 16px;display:flex;align-items:center;gap:12px;font-size:14px}.notification-banner button{background:#ffc107;border:1px outset #ffc107;padding:4px 8px;cursor:pointer;font-size:12px}.notification-banner button:hover{background:#e0a800}.notification-banner button:active{border:1px inset #ffc107}.main-content{display:flex;height:600px}.chat-area{display:flex;flex-direction:column;flex:1 1 0;min-width:300px;max-width:calc(100% - 200px)}.chat-box{flex:1;background:#fff;border-right:1px solid #ccc;overflow-y:auto;font-size:14px;line-height:1.4;position:relative}.msg{padding:4px 8px;border-bottom:1px dotted #ddd;position:relative}.msg:hover{background:#f5f5f5}.msg.highlighted{background:#ffc!important;border-left:3px solid #ffc107}.msg.reply-msg{border-left:3px solid #2196F3;margin-left:20px;background:#f0f8ff}.msg .time{color:#666;font-size:12px}.msg .user{font-weight:700;margin-right:6px;cursor:pointer}.msg .user.moderator:after{content:"ðŸ‘‘";margin-left:4px;font-size:10px}.msg .text{margin-left:6px}.msg .reply-reference{font-size:11px;color:#666;font-style:italic;margin-bottom:2px;cursor:pointer;padding:2px 4px;background:#2196f31a;border-radius:3px;display:inline-block}.msg .reply-reference:hover{text-decoration:underline;background:#2196f333}.msg .file-attachment{display:inline-block;margin:4px 0;padding:4px 8px;background:#f0f0f0;border:1px solid #ccc;border-radius:4px;text-decoration:none;color:#06c}.msg .file-attachment:hover{background:#e0e0e0}.msg .image-attachment{display:block;margin:4px 0;max-width:300px;max-height:200px;border:2px inset #ccc;cursor:pointer}.reply-preview{background:#f0f8ff;border:1px solid #2196F3;padding:8px 12px;margin:4px 8px;display:flex;align-items:center;justify-content:space-between;font-size:12px}.reply-content{flex:1}.reply-label{color:#666;margin-right:8px}.reply-text{font-style:italic}.reply-cancel{background:none;border:none;color:#666;cursor:pointer;font-size:16px;padding:0 4px}.reply-cancel:hover{color:#333}.user-list{width:180px;background:#f8f8f8;border-left:1px solid #ccc;overflow-y:auto}.user-list-header{background:#e0e0e0;padding:6px 8px;font-size:14px;font-weight:700;border-bottom:1px solid #ccc}.user-item{padding:4px 8px;font-size:14px;border-bottom:1px dotted #ddd;cursor:pointer;display:flex;align-items:center;gap:4px}.user-item:hover{background:#e8e8e8}.user-item.moderator:after{content:"ðŸ‘‘";font-size:10px}.input-area{border-top:1px solid #ccc;padding:8px;background:#f0f0f0}.input-container{display:flex;gap:6px}.msg-input{flex:1;padding:6px 8px;border:1px inset #ccc;font-size:14px;font-family:inherit}.send-btn{padding:6px 16px;background:linear-gradient(90deg,#2196f3,#21cbf3);color:#fff;border:1px outset #2196F3;cursor:pointer;font-size:14px;font-family:inherit}.send-btn:active{border:1px inset #2196F3}.send-btn:disabled{background:#ccc;border:1px outset #ccc;cursor:not-allowed}.status-bar{background:#e8e8e8;border-top:1px solid #ccc;padding:4px 8px;font-size:12px;color:#666;display:flex;justify-content:space-between}.connection-status{display:flex;align-items:center;gap:6px}.status-dot{width:8px;height:8px;border-radius:50%;background:#0c0}.status-dot.disconnected{background:#c00}.status-btn{background:none;border:none;color:#666;cursor:pointer;font-size:10px;margin-left:8px;display:inline-flex;align-items:center;justify-content:center}.status-btn:hover{color:#333}.status-btn svg{width:12px;height:12px}.context-menu{position:absolute;background:#f0f0f0;border:2px outset #ccc;box-shadow:2px 2px 5px #0000004d;z-index:1000;display:none;min-width:150px}.context-item{padding:6px 12px;cursor:pointer;font-size:14px;border-bottom:1px dotted #ddd;display:flex;align-items:center;gap:8px}.context-item:hover{background:#e0e0e0}.context-item:last-child{border-bottom:none}.context-icon{width:14px;height:14px;flex-shrink:0}.modal{display:none;position:fixed;z-index:2000;left:0;top:0;width:100%;height:100%;background:#00000080;align-items:center;justify-content:center}.modal-content{position:relative;background:#f0f0f0;width:90%;max-width:600px;max-height:80vh;border:2px outset #ccc;box-shadow:2px 2px 5px #0000004d;overflow:hidden;display:flex;flex-direction:column}.modal-header{background:linear-gradient(90deg,#2196f3,#21cbf3);color:#fff;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;font-weight:700;flex-shrink:0}.modal-header h3{margin:0;font-size:16px}.close-btn{background:none;border:none;color:#fff;cursor:pointer;font-size:20px;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center}.close-btn:hover{background:#fff3;border-radius:2px}.modal-body{padding:20px;overflow-y:auto;flex:1}#search-input{width:100%;padding:6px 8px;border:1px inset #ccc;font-size:14px;margin-bottom:12px}.search-filters{display:flex;gap:12px;align-items:center;margin-bottom:12px;font-size:14px}.search-filters input[type=text]{padding:4px 6px;border:1px inset #ccc;font-size:14px}.search-results{max-height:300px;overflow-y:auto;border:1px inset #ccc;background:#fff}.search-result-item{padding:8px;border-bottom:1px dotted #ddd;cursor:pointer;font-size:14px}.search-result-item:hover{background:#f5f5f5}.search-result-item:last-child{border-bottom:none}.upload-area{border:2px dashed #ccc;padding:40px;text-align:center;cursor:pointer;background:#fafafa}.upload-area.drag-over{border-color:#2196f3;background:#f0f8ff}.upload-text{color:#666}.upload-icon{font-size:48px;margin-bottom:12px;display:flex;justify-content:center;align-items:center}.upload-icon svg{width:48px;height:48px;color:#666}.upload-limit{font-size:12px;margin-top:8px}#file-input{display:none}.upload-preview{margin-top:16px;padding:12px;background:#fff;border:1px inset #ccc;display:none}.preview-item{display:flex;align-items:center;gap:12px;padding:8px;background:#f5f5f5;border:1px solid #ddd;margin-bottom:8px}.preview-icon{font-size:24px;min-width:32px;text-align:center;display:flex;align-items:center;justify-content:center}.preview-icon svg{width:24px;height:24px;color:#666}.preview-info{flex:1}.preview-name{font-weight:700;margin-bottom:4px}.preview-size{font-size:12px;color:#666}.preview-remove{background:#c00;color:#fff;border:1px outset #cc0000;padding:4px 8px;cursor:pointer;font-size:12px}.preview-remove:hover{background:#900}.preview-remove:active{border:1px inset #cc0000}.pm-window{position:fixed;width:400px;height:300px;background:#fff;border:2px solid #ccc;box-shadow:2px 2px 5px #000000c5;z-index:1500;display:flex;flex-direction:column;resize:both;overflow:hidden}.pm-header{background:linear-gradient(90deg,#2196f3,#21cbf3);color:#fff;padding:8px 12px;font-weight:700;font-size:14px;border-bottom:1px solid #0066cc;display:flex;justify-content:space-between;align-items:center;cursor:move}.pm-chat{flex:1;overflow-y:auto;background:#fff;font-size:14px;line-height:1.4}.pm-input-area{border-top:1px solid #ccc;padding:6px;background:#f0f0f0}.pm-input-container{display:flex;gap:4px}.pm-input{flex:1;padding:4px 6px;border:1px inset #ccc;font-size:12px;font-family:inherit}.pm-send-btn{padding:4px 12px;background:linear-gradient(90deg,#2196f3,#21cbf3);color:#fff;border:1px outset #2196F3;cursor:pointer;font-size:12px;font-family:inherit}.pm-send-btn:active{border:1px inset #2196F3}.pm-close-btn{background:none;border:none;color:#fff;cursor:pointer;font-size:16px;padding:0 4px}.pm-close-btn:hover{background:#fff3;border-radius:2px}.chat-box::-webkit-scrollbar,.user-list::-webkit-scrollbar,.pm-chat::-webkit-scrollbar,.search-results::-webkit-scrollbar{width:16px}.chat-box::-webkit-scrollbar-track,.user-list::-webkit-scrollbar-track,.pm-chat::-webkit-scrollbar-track,.search-results::-webkit-scrollbar-track{background:#f0f0f0;border:1px inset #ccc}.chat-box::-webkit-scrollbar-thumb,.user-list::-webkit-scrollbar-thumb,.pm-chat::-webkit-scrollbar-thumb,.search-results::-webkit-scrollbar-thumb{background:linear-gradient(90deg,#2196f3,#21cbf3);border:1px outset #2196F3}.chat-box::-webkit-scrollbar-button,.user-list::-webkit-scrollbar-button,.pm-chat::-webkit-scrollbar-button,.search-results::-webkit-scrollbar-button{background:#e0e0e0;border:1px outset #ccc;height:16px}@media (max-width: 640px){.container{margin:10px;max-width:none}.main-content{height:500px}.user-list{display:none}.toolbar{flex-wrap:wrap;gap:8px}.chat-area{max-width:100%;min-width:100%}.pm-window{width:90%;max-width:350px;height:250px}.modal-content{width:95%;margin:5% auto}}.msg.system{background:#fff3cd;border-left:3px solid #ffc107}.msg.system .user{color:#856404}.welcome{background:#d4edda;border:1px solid #c3e6cb;padding:10px;margin:6px;font-size:14px;border-radius:2px}.header-btn.muted{opacity:.5}.desktop-notification{position:fixed;top:20px;right:20px;background:#f0f0f0;border:2px outset #ccc;box-shadow:2px 2px 5px #0000004d;padding:12px 16px;z-index:3000;max-width:300px;font-size:14px}.notification-title{font-weight:700;margin-bottom:4px}.notification-body{color:#666}.settings-section{margin-bottom:32px}.settings-section:last-child{margin-bottom:0}.settings-section h4{margin:0 0 20px;font-size:18px;color:#333;border-bottom:2px solid #e0e0e0;padding-bottom:10px;font-weight:600}.setting-item{margin-bottom:20px;padding:16px;background:#fafafa;border:1px solid #e8e8e8;border-radius:6px;transition:background-color .2s}.setting-item:hover{background:#f5f5f5}.setting-label{display:flex;justify-content:space-between;align-items:center;cursor:pointer;font-weight:500;margin-bottom:8px;font-size:15px;color:#333}.setting-description{margin:8px 0 0;font-size:13px;color:#777;line-height:1.5}.permission-status span:first-child{font-weight:500;color:#555}#permission-status-text{font-weight:600;padding:4px 8px;border-radius:4px;font-size:12px}.small-btn{background:#2196f3;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:12px;font-weight:500;transition:background-color .2s}.small-btn:hover{background:#1976d2}.toggle-switch{position:relative;width:48px;height:24px}.toggle-switch input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.3s;border-radius:24px}.toggle-slider:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.3s;border-radius:50%;box-shadow:0 2px 4px #0003}.toggle-switch input:checked+.toggle-slider{background-color:#4caf50}.toggle-switch input:checked+.toggle-slider:before{transform:translate(24px)}.toggle-switch input:disabled+.toggle-slider{background-color:#ddd;cursor:not-allowed}.toggle-switch input:disabled+.toggle-slider:before{background-color:#f5f5f5}.permission-status{display:flex;align-items:center;gap:8px;font-size:14px}#permission-status-text{font-weight:500;padding:2px 8px;border-radius:4px;font-size:12px}#permission-status-text.granted{background-color:#d4edda;color:#155724}#permission-status-text.denied{background-color:#f8d7da;color:#721c24}#permission-status-text.default{background-color:#fff3cd;color:#856404}.small-btn{padding:4px 8px;font-size:12px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}.small-btn:hover{background:#0056b3}
